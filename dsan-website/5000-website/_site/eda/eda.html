<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project – eda</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/anly501/dsan-5000-project-qinxuesherry/tree/main/codes" rel="" target="">
 <span class="menu-text">Code</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/anly501/dsan-5000-project-qinxuesherry/tree/main/data" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_gathering/data_gathering.html" rel="" target="">
 <span class="menu-text">Data Gathering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_cleaning/data_cleaning.html" rel="" target="">
 <span class="menu-text">Data cleaning</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-clustering" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Clustering</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-clustering">    
        <li>
    <a class="dropdown-item" href="../clustering/clustering1.html" rel="" target="">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../clustering/clustering.html" rel="" target="">
 <span class="dropdown-text">Methods &amp; Codes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../clustering/Results.html" rel="" target="">
 <span class="dropdown-text">Results Analysis &amp; Conclusion</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../dimensionality_reduction/reduction.html" rel="" target="">
 <span class="menu-text">Dimensionaliy Reduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../decision_trees/tree.html" rel="" target="">
 <span class="menu-text">Decision Trees</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../eda/eda.html" rel="" target="" aria-current="page">
 <span class="menu-text">Data Exploration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Naive_Bayes/Naive_Bayes.html" rel="" target="">
 <span class="menu-text">Naïve Bayes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../ARM/ARM.html" rel="" target="">
 <span class="menu-text">ARM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../conclusion/conclusion.html" rel="" target="">
 <span class="menu-text">Conclusion</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link active" data-scroll-target="#exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</a>
  <ul class="collapse">
  <li><a href="#introduction-to-eda" id="toc-introduction-to-eda" class="nav-link" data-scroll-target="#introduction-to-eda">Introduction to EDA:</a></li>
  <li><a href="#news-articles-dataset" id="toc-news-articles-dataset" class="nav-link" data-scroll-target="#news-articles-dataset">News Articles’ dataset</a>
  <ul class="collapse">
  <li><a href="#data-understanding" id="toc-data-understanding" class="nav-link" data-scroll-target="#data-understanding">Data Understanding</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a></li>
  <li><a href="#correlation-analysis" id="toc-correlation-analysis" class="nav-link" data-scroll-target="#correlation-analysis">Correlation Analysis</a></li>
  <li><a href="#hypothesis-generation" id="toc-hypothesis-generation" class="nav-link" data-scroll-target="#hypothesis-generation">Hypothesis Generation</a></li>
  </ul></li>
  <li><a href="#apple-stock-dataset" id="toc-apple-stock-dataset" class="nav-link" data-scroll-target="#apple-stock-dataset">Apple Stock dataset</a>
  <ul class="collapse">
  <li><a href="#data-understanding-1" id="toc-data-understanding-1" class="nav-link" data-scroll-target="#data-understanding-1">Data Understanding</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive Statistics</a></li>
  <li><a href="#data-visualization-1" id="toc-data-visualization-1" class="nav-link" data-scroll-target="#data-visualization-1">Data Visualization</a></li>
  <li><a href="#outliers-detect" id="toc-outliers-detect" class="nav-link" data-scroll-target="#outliers-detect">Outliers Detect</a></li>
  <li><a href="#hypothesis-generation-1" id="toc-hypothesis-generation-1" class="nav-link" data-scroll-target="#hypothesis-generation-1">Hypothesis Generation</a></li>
  </ul></li>
  <li><a href="#mobile_phone_rating-dataset" id="toc-mobile_phone_rating-dataset" class="nav-link" data-scroll-target="#mobile_phone_rating-dataset">mobile_phone_rating dataset</a>
  <ul class="collapse">
  <li><a href="#data-understanding-2" id="toc-data-understanding-2" class="nav-link" data-scroll-target="#data-understanding-2">Data Understanding</a></li>
  <li><a href="#data-visualization-2" id="toc-data-visualization-2" class="nav-link" data-scroll-target="#data-visualization-2">Data Visualization</a></li>
  <li><a href="#correlation-analysis-1" id="toc-correlation-analysis-1" class="nav-link" data-scroll-target="#correlation-analysis-1">Correlation Analysis</a></li>
  <li><a href="#descriptive-statistics-1" id="toc-descriptive-statistics-1" class="nav-link" data-scroll-target="#descriptive-statistics-1">Descriptive Statistics</a></li>
  <li><a href="#hypothesis-generation-2" id="toc-hypothesis-generation-2" class="nav-link" data-scroll-target="#hypothesis-generation-2">Hypothesis Generation</a></li>
  </ul></li>
  <li><a href="#iphone_11_review_dataset" id="toc-iphone_11_review_dataset" class="nav-link" data-scroll-target="#iphone_11_review_dataset">iphone_11_review_dataset</a>
  <ul class="collapse">
  <li><a href="#data-understanding-3" id="toc-data-understanding-3" class="nav-link" data-scroll-target="#data-understanding-3">Data Understanding</a></li>
  <li><a href="#data-visualization-3" id="toc-data-visualization-3" class="nav-link" data-scroll-target="#data-visualization-3">Data Visualization</a></li>
  <li><a href="#descriptive-statistics-2" id="toc-descriptive-statistics-2" class="nav-link" data-scroll-target="#descriptive-statistics-2">Descriptive Statistics</a></li>
  <li><a href="#hypothesis-generation-3" id="toc-hypothesis-generation-3" class="nav-link" data-scroll-target="#hypothesis-generation-3">Hypothesis Generation</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="exploratory-data-analysis-eda" class="level1">
<h1>Exploratory Data Analysis (EDA)</h1>
<section id="introduction-to-eda" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-eda">Introduction to EDA:</h2>
<ul>
<li>In this part, I will use visualization tools to help the audience know more about my project, which will include text clouds, statistic distribution, correlation heatmap, etc. This will help the audience to understand the general partterns in the data, and analysis the data.</li>
</ul>
</section>
<section id="news-articles-dataset" class="level2">
<h2 class="anchored" data-anchor-id="news-articles-dataset">News Articles’ dataset</h2>
<section id="data-understanding" class="level3">
<h3 class="anchored" data-anchor-id="data-understanding">Data Understanding</h3>
<ul>
<li>In this text dataset, the type for this dataset is categorical data.</li>
</ul>
</section>
<section id="data-visualization" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization">Data Visualization</h3>
<ul>
<li>code in the news_cleanning.ipynb</li>
</ul>
<section id="word-cloud" class="level4">
<h4 class="anchored" data-anchor-id="word-cloud">Word Cloud</h4>
<ul>
<li>Explaination: After I cleaned the data with Numpy and Pandas package as I needed, I use the Wordcloud package to output the most frequent appeared words in those articles.</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/text_cloud_newsapi.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">text cloud for news articles</figcaption>
</figure>
</div></li>
</ul>
</section>
</section>
<section id="correlation-analysis" class="level3">
<h3 class="anchored" data-anchor-id="correlation-analysis">Correlation Analysis</h3>
<ul>
<li>Explaination: I cleared out all the stopwords as needed, and get the most frequent words out to see the correlation between those key words. We can see that the color of words more close to white is more positive related, and the color more close to black is negative related. I used</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/corr_heat_newsapi.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">correlation heatmap for news articles</figcaption>
</figure>
</div></li>
</ul>
</section>
<section id="hypothesis-generation" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-generation">Hypothesis Generation</h3>
<ul>
<li>from the analysis from above, we can see most of the key words from the news are positive or natural, which means, the public has postive attitude towards apple products.</li>
</ul>
</section>
</section>
<section id="apple-stock-dataset" class="level2">
<h2 class="anchored" data-anchor-id="apple-stock-dataset">Apple Stock dataset</h2>
<section id="data-understanding-1" class="level3">
<h3 class="anchored" data-anchor-id="data-understanding-1">Data Understanding</h3>
<ul>
<li>For this dataset, it’s all numerical data. The open/close price are closely relate to each other</li>
<li>code in the code/EDA/apple_stock.ipynb file</li>
</ul>
</section>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h3>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/stock_statistics.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">statistics for apple stock</figcaption>
</figure>
</div></li>
<li>As shwon in the table, we can the standard deviation for the apple stock is around 19, it show a floating with the apple stock within days.</li>
<li>however the max and min are similar for each open/close price, shows a stable status for the apple stock.</li>
</ul>
</section>
<section id="data-visualization-1" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization-1">Data Visualization</h3>
<section id="open-price-line-plot" class="level4">
<h4 class="anchored" data-anchor-id="open-price-line-plot">Open Price Line Plot</h4>
<ul>
<li>Explaination: I collected the dataset of stock price from Yahoo! finance, and used Matplotlib, plotly and seaborn to plot the stock price in line plot with the open price and the date.</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/stock_openprice.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">open price for apple stock</figcaption>
</figure>
</div></li>
<li>We can see from this plot that the price is in the increasing trend, which means the apple stock are more popular.</li>
</ul>
</section>
<section id="trading-volume-line-plot" class="level4">
<h4 class="anchored" data-anchor-id="trading-volume-line-plot">trading volume Line Plot</h4>
<ul>
<li>Explaination: I collected the dataset of stock price from Yahoo! finance, and used Matplotlib, plotly and seaborn to plot the stock trading volume in each date in line plot</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/apple_stock_volume.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">open price for apple stock</figcaption>
</figure>
</div></li>
<li>As shown, we can see the trading volume are decreasing during the time, which may indicate that the apple’s stock are less people buying, and it may related to the price.</li>
</ul>
</section>
</section>
<section id="outliers-detect" class="level3">
<h3 class="anchored" data-anchor-id="outliers-detect">Outliers Detect</h3>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/stock_outliers.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Outliers for apple stock</figcaption>
</figure>
</div></li>
<li>As shown, there’s no outliers for this stock, so, every points can be inclued in evaluating this data.</li>
</ul>
</section>
<section id="hypothesis-generation-1" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-generation-1">Hypothesis Generation</h3>
<ul>
<li>from the analysis from above, we can see the apple stock price is still increasing, and seems still be popular to the public. This may indicate the Apple product is still popular in the market.</li>
</ul>
</section>
</section>
<section id="mobile_phone_rating-dataset" class="level2">
<h2 class="anchored" data-anchor-id="mobile_phone_rating-dataset">mobile_phone_rating dataset</h2>
<section id="data-understanding-2" class="level3">
<h3 class="anchored" data-anchor-id="data-understanding-2">Data Understanding</h3>
<ul>
<li>For this dataset, below are their data type.</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/Mobile_phone_datatype.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Mobile Phone data type</figcaption>
</figure>
</div></li>
<li>The launch price, camera, selfie, audio, display, battery ratings are all related to the reank.</li>
</ul>
</section>
<section id="data-visualization-2" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization-2">Data Visualization</h3>
<section id="dot-plot" class="level4">
<h4 class="anchored" data-anchor-id="dot-plot">dot plot</h4>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/mobile_phone_dot.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The relation of Launch Price and Buing Intent</figcaption>
</figure>
</div></li>
<li>used Seaborn</li>
<li>It shows that the launch price actually determined whether willing to buy. When the price is around 750-1250 dollars, people are very willing to buy.</li>
</ul>
</section>
<section id="box-plot" class="level4">
<h4 class="anchored" data-anchor-id="box-plot">box plot</h4>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/mobile_phone_box.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The relation between Buying Intent and Camera Rating</figcaption>
</figure>
</div></li>
<li>used Seaborn</li>
<li>It also shows people willingness to buy are connected to the camera’s quality. the camera score that people very willing to buy is around 130-160 range.</li>
</ul>
</section>
<section id="pie-chart" class="level4">
<h4 class="anchored" data-anchor-id="pie-chart">pie chart</h4>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/mobile_phone_pie.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Top 50 Ranking Brands</figcaption>
</figure>
</div></li>
<li>used Matplotlib</li>
<li>As shown in the graph, there are 20% Top 50 ranking phones are apples. Which shows, Apple is still one of the most popular brands in the market.</li>
</ul>
</section>
</section>
<section id="correlation-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="correlation-analysis-1">Correlation Analysis</h3>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/mobile_phone_corr.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The correlation between features</figcaption>
</figure>
</div></li>
<li>Used heatmap</li>
<li>It semmed that camera and launch price are correlated to each other. And the Launch price camera score and audio score are negatively correlated to each other.</li>
</ul>
</section>
<section id="descriptive-statistics-1" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-1">Descriptive Statistics</h3>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/Mobile_phone_statistics.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">statistics for mobile phone</figcaption>
</figure>
</div></li>
<li>the mean Launch price is around $773.5 and the mean score for selfie is around 130, which is obviously higher than others (this is becuase I used mean to insert missing value)</li>
</ul>
</section>
<section id="hypothesis-generation-2" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-generation-2">Hypothesis Generation</h3>
<ul>
<li>from the analysis we can analyze what kind of features would be popular around customers. This can be used for analysis whether apple would be best product among choices. It still prove that Apple is popular among customers.</li>
</ul>
</section>
</section>
<section id="iphone_11_review_dataset" class="level2">
<h2 class="anchored" data-anchor-id="iphone_11_review_dataset">iphone_11_review_dataset</h2>
<section id="data-understanding-3" class="level3">
<h3 class="anchored" data-anchor-id="data-understanding-3">Data Understanding</h3>
<ul>
<li>This is a text record data, and it is a categorical data.</li>
</ul>
</section>
<section id="data-visualization-3" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization-3">Data Visualization</h3>
<ul>
<li>frequency distribution</li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/iphone_11_rating.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Iphone 11 ratings</figcaption>
</figure>
</div></li>
<li>Used Seabron</li>
<li>From the graph, we can see most people give 5.0 ratings, which shows that most customers satisfied the apple products</li>
</ul>
</section>
<section id="descriptive-statistics-2" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-2">Descriptive Statistics</h3>
<ul>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/iphone_11_statistics.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">statistics for Ipohone11 ratings</figcaption>
</figure>
</div></li>
<li>The mean rating is 4.48 which is very high, shows that everyone like iphone 11</li>
</ul>
</section>
<section id="hypothesis-generation-3" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-generation-3">Hypothesis Generation</h3>
<ul>
<li>from the analysis we can analyze that most customers satisfied apple’s products, so apple may be still popular in the market.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>