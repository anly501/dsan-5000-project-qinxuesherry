<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project - DSAN-5000: Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../../index.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/anly501/dsan-5000-project-qinxuesherry/tree/main/codes" rel="" target="">
 <span class="menu-text">Code</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/anly501/dsan-5000-project-qinxuesherry/tree/main/data" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_gathering/data_gathering.html" rel="" target="">
 <span class="menu-text">Data Gathering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_cleaning/data_cleaning.html" rel="" target="">
 <span class="menu-text">Data cleaning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./clustering/clustering.html" rel="" target="">
 <span class="menu-text">Clustering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./dimensionality_reduction/dimensionality_reduction.html" rel="" target="">
 <span class="menu-text">Dimensionaliy Reduction</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-decision-trees" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Decision Trees</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-decision-trees">    
        <li class="dropdown-header">Classification</li>
        <li class="dropdown-header">Regression</li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./eda/eda.html" rel="" target="">
 <span class="menu-text">Data Exploration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ARM/ARM.html" rel="" target="">
 <span class="menu-text">ARM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conclusion/conclusion.html" rel="" target="">
 <span class="menu-text">Conclusion</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#i-have-changed-my-topic-from-financial-fraud-to-the-topic-is-iphone-still-popular-in-the-market" id="toc-i-have-changed-my-topic-from-financial-fraud-to-the-topic-is-iphone-still-popular-in-the-market" class="nav-link active" data-scroll-target="#i-have-changed-my-topic-from-financial-fraud-to-the-topic-is-iphone-still-popular-in-the-market">I have changed my topic from “Financial Fraud” to the topic “Is Iphone still popular in the market?”</a></li>
  <li><a href="#i-will-redo-this-introduction-part-later" id="toc-i-will-redo-this-introduction-part-later" class="nav-link" data-scroll-target="#i-will-redo-this-introduction-part-later">I will redo this introduction part later</a></li>
  <li><a href="#just-ignore-it-for-now-please." id="toc-just-ignore-it-for-now-please." class="nav-link" data-scroll-target="#just-ignore-it-for-now-please.">Just ignore it for now please.</a></li>
  <li><a href="#all-my-data-are-about-apple-and-iphone." id="toc-all-my-data-are-about-apple-and-iphone." class="nav-link" data-scroll-target="#all-my-data-are-about-apple-and-iphone.">All my data are about Apple and Iphone.</a>
  <ul class="collapse">
  <li><a href="#topics-introduction-financial-fraud-detection" id="toc-topics-introduction-financial-fraud-detection" class="nav-link" data-scroll-target="#topics-introduction-financial-fraud-detection">1. Topics Introduction: Financial Fraud Detection</a></li>
  <li><a href="#questions-to-address" id="toc-questions-to-address" class="nav-link" data-scroll-target="#questions-to-address">2. 10 questions to address</a></li>
  <li><a href="#realated-articles" id="toc-realated-articles" class="nav-link" data-scroll-target="#realated-articles">3. Realated Articles</a>
  <ul class="collapse">
  <li><a href="#predicting-fraudulentfinancial-statements-using-fraud-detection-models1" id="toc-predicting-fraudulentfinancial-statements-using-fraud-detection-models1" class="nav-link" data-scroll-target="#predicting-fraudulentfinancial-statements-using-fraud-detection-models1">Predicting fraudulentfinancial statements using fraud detection models</a></li>
  <li><a href="#a-powerful-predicting-model-for-financial-statement-fraud-based-on-optimized-xgboost-ensemble-learning-technique2" id="toc-a-powerful-predicting-model-for-financial-statement-fraud-based-on-optimized-xgboost-ensemble-learning-technique2" class="nav-link" data-scroll-target="#a-powerful-predicting-model-for-financial-statement-fraud-based-on-optimized-xgboost-ensemble-learning-technique2">A Powerful Predicting Model for Financial Statement Fraud Based on Optimized XGBoost Ensemble Learning Technique</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DSAN-5000: Introduction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>See the following link for more information about the author: <a href="../../index.html">about me</a></p>
<p>This is a Quarto website.</p>
<p>To learn more about Quarto websites visit <a href="https://quarto.org/docs/websites" class="uri">https://quarto.org/docs/websites</a>.</p>
<section id="i-have-changed-my-topic-from-financial-fraud-to-the-topic-is-iphone-still-popular-in-the-market" class="level1">
<h1>I have changed my topic from “Financial Fraud” to the topic “Is Iphone still popular in the market?”</h1>
</section>
<section id="i-will-redo-this-introduction-part-later" class="level1">
<h1>I will redo this introduction part later</h1>
</section>
<section id="just-ignore-it-for-now-please." class="level1">
<h1>Just ignore it for now please.</h1>
</section>
<section id="all-my-data-are-about-apple-and-iphone." class="level1">
<h1>All my data are about Apple and Iphone.</h1>
<section id="topics-introduction-financial-fraud-detection" class="level2">
<h2 class="anchored" data-anchor-id="topics-introduction-financial-fraud-detection">1. Topics Introduction: Financial Fraud Detection</h2>
<ul>
<li>summary: There are many type of financial fraud, credit card fraud, identity theft, account takeover, payment fraud, insurance fraud, money laudering, etc.</li>
<li>Importance: The financial institution need to collect data, for example, transaction data, account history, customers’ data, etc, to analyze and predict the financial fraud to avoid the financial fraud in the future.</li>
<li>Why the reader should continue: there are more and more new fraud methods came up, the past machine learning model might cannot apply to the new fraud methods.</li>
<li>what work had done: The researchers had done many data collection, data preprocessing, and set up machine learning models to do the logistic regression, decision trees and random forest, etc. They also had done so many behavioral analysis to analyze transaction frequency, amount, time of day, etc.</li>
<li>what are the “different points of views”/interpretations in the literature: There are many different points of views related to the financial fraud. From economic Perspective, they may analyze the costs of fraud prevention and the actual costs of fraud. From the data scientists’ perspective, they wish to focus more on using data-driving approaches to prevent fraud. There are also many other perspectives from different researchers.</li>
<li>what exploring: In this area, we need to explore more about the relations between customers’ behavior and the fraud methods</li>
<li>goals and hypothesis: clean the data I collect and find some factors that impact the financial fraud and make a fraud detetction model.</li>
</ul>
</section>
<section id="questions-to-address" class="level2">
<h2 class="anchored" data-anchor-id="questions-to-address">2. 10 questions to address</h2>
<ul>
<li>How can we effectively collect and integrate diverse data sources, both internal and external (e.g., public records), to enhance fraud detection capabilities?<br>
</li>
<li>What types of data sources are available for detecting financial fraud?</li>
<li>Which machine learning algorithms and techniques are best suited for financial fraud detection?</li>
<li>How can you fine-tune these models for optimal performance?</li>
<li>What techniques can be applied to handle imbalanced datasets?</li>
<li>What is the cost of implementing a fraud detection system, and how does it compare to the potential financial losses from fraud?</li>
<li>How can you provide explanations for why a particular transaction or activity was flagged as potentially fraudulent?</li>
<li>How could we get rid of some information we do not need for financial fraud when we clean the dataset?</li>
<li>How could we evaluate our model in the end?</li>
<li>What are the key features or variables that can be used to detect fraudulent activities?</li>
</ul>
</section>
<section id="realated-articles" class="level2">
<h2 class="anchored" data-anchor-id="realated-articles">3. Realated Articles</h2>
<section id="predicting-fraudulentfinancial-statements-using-fraud-detection-models1" class="level3">
<h3 class="anchored" data-anchor-id="predicting-fraudulentfinancial-statements-using-fraud-detection-models1">Predicting fraudulentfinancial statements using fraud detection models<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h3>
<p><code>Abstract</code></p>
<ul>
<li>The key purpose of the research is to provide scientific data on the association between fraud causes and false financial statements. The paper gave further insight into the applicability of Altman’s z-score and Dechow f-score to the exposure of false financial statements by Jordanian industrial owners. The duration of research included the years from 2015 to 2019. The Dependent variable in the analysis was the false financial statement, while the separate fraud factors were financial security, external strain, financial priorities and the essence of the business. The analysis of the research takes a methodological model utilizing a multiple regression procedure to evaluate the theories of the study. The final findings of the analysis presented conclusive proof that Jordanian manufacturing firms were engaged in the conduct of false financial statements; while some of the triangle fraud variables were identified without any correlation with fraudulent financial reports; other factors were found to be strongly associated with fraud. As regards the accuracy of the fraud models, the findings of the analysis confirmed the validity and specificity of all the fraud detection models adopted in the study.</li>
</ul>
</section>
<section id="a-powerful-predicting-model-for-financial-statement-fraud-based-on-optimized-xgboost-ensemble-learning-technique2" class="level3">
<h3 class="anchored" data-anchor-id="a-powerful-predicting-model-for-financial-statement-fraud-based-on-optimized-xgboost-ensemble-learning-technique2">A Powerful Predicting Model for Financial Statement Fraud Based on Optimized XGBoost Ensemble Learning Technique<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></h3>
<p><code>Abstract</code></p>
<ul>
<li>This study aims to develop a better Financial Statement Fraud (FSF) detection model by utilizing data from publicly available financial statements of firms in the MENA region. We develop an FSF model using a powerful ensemble technique, the XGBoost (eXtreme Gradient Boosting) algorithm, that helps to identify fraud in a set of sample companies drawn from the Middle East and North Africa (MENA) region. The issue of class imbalance in the dataset is addressed by applying the Synthetic Minority Oversampling Technique (SMOTE) algorithm. We use different Machine Learning techniques in Python to predict FSF, and our empirical findings show that the XGBoost algorithm outperformed the other algorithms in this study, namely, Logistic Regression (LR), Decision Tree (DT), Support Vector Machine (SVM), AdaBoost, and Random Forest (RF). We then optimize the XGBoost algorithm to obtain the best result, with a final accuracy of 96.05% in the detection of FSF.</li>
</ul>
<p><code>HIGHLY RECOMMENDED</code></p>
<ul>
<li>It is <code>highly recommended</code> that you build your website using <code>.ipynb</code> files and NOT <code>.qmd</code>files</li>
<li>Functionally the two formats are basically identical, i.e.&nbsp;they are just <code>Markdown</code> + <code>Code</code></li>
<li>However there is <code>ONE MAJOR DIFFERENCE</code>, i.e.&nbsp;<code>.ipynb</code> stores the code outputs in the meta-data of the file
<ul>
<li>This means you <code>ONLY HAVE TO RUN THE CODE ONCE</code> with <code>.ipynb</code></li>
<li><code>.qmd</code> will run the code every time you build the website, which can be very slow
<ul>
<li>There are <code>caching</code> options for <code>.qmd</code>, however, they are “messier” that just using <code>.ipynb</code></li>
</ul></li>
<li><strong>Note</strong>: <code>.qmd</code> is fine if there is no code, in which case it is basically just a <code>Markdown</code> file</li>
</ul></li>
<li>Converting between the two
<ul>
<li>You can switch between the two formats using</li>
<li><code>quarto convert clustering.qmd</code> this will output a <code>.ipynb</code> version called <code>clustering.ipynb</code></li>
<li><code>quarto convert eda.ipynb</code> this will output a <code>.qmd</code> version called <code>eda.qmd</code></li>
</ul></li>
<li>YOU CAN RUN <code>R CODE</code> IN VSC WITH <code>.ipynb</code>, see the following link
<ul>
<li><a href="https://saturncloud.io/blog/how-to-use-jupyter-r-kernel-with-visual-studio-code/">https://saturncloud.io/blog/how-to-use-jupyter-r-kernel-with-visual-studio-code/</a></li>
</ul></li>
<li>It is possible, but <code>NOT RECOMMENDED</code>, to mix Python and R code in the same file</li>
</ul>
<p><code>IMPORTANT ASIDE</code></p>
<ul>
<li>A <code>.ipynb</code> file is simply a <code>JSON</code> file with a specialized structural format</li>
<li>You can see this by running <code>more eda/eda.ipynb</code> from the command line</li>
<li>Which will output the following;<br>
<img src="images/2023-08-23-09-39-14.png" class="img-fluid" width="500"></li>
</ul>
<p><code>TIP FOR MAC USERS</code></p>
<ul>
<li><code>command+control+shift+4</code> is very useful on a mac.
<ul>
<li>It takes a screenshot and saves it to the clip-board</li>
</ul></li>
<li>The following VSC extension allows you to paste images from the clip-board with <code>alt+command+v</code>.<br>
<img src="images/2023-08-23-09-35-05.png" class="img-fluid" width="300"></li>
<li><code>tab</code> is your best friend when using the command line, since it does <code>auto-completion</code></li>
<li><code>open ./path_to_file</code> will open any file or directory from the command line</li>
</ul>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Saleh, Mousa Mohammad Abdullah, et al.&nbsp;“PREDICTING FRAUDULENT FINANCIAL STATEMENTS USING FRAUD DETECTION MODELS.” Academy of Strategic Management Journal, vol.&nbsp;20, 2021, pp.&nbsp;1–17.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Ali, Amal Al, et al.&nbsp;“A Powerful Predicting Model for Financial Statement Fraud Based on Optimized XGBoost Ensemble Learning Technique.” Applied Sciences, vol.&nbsp;13, no. 4, 2023, p.&nbsp;2272–, https://doi.org/10.3390/app13042272.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>